(this.webpackJsonpwebserver=this.webpackJsonpwebserver||[]).push([[0],{164:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),s=n.n(a),i=(n.p,n(61)),o=n(17),u=n(214),j=n(71),l=n(208),d=n(28),b=n(213),h=n(41),f=n.n(h),x=n(63),O=n(8),m=n(48),g=n(119),p=n.n(g),v=n(120),w=n.n(v),y=n(106),k=n(55),N=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/submissions/").then((function(e){return e.ok?e.json():null})).then((function(e){var t=e.submissions,n=t.length;return t[Math.floor(Math.random()*n)].username}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=n(6),S=Object(d.a)((function(e){var t;return{root:(t={padding:"2px 4px",display:"flex",alignItems:"center",justify:"center"},Object(m.a)(t,"alignItems","center"),Object(m.a)(t,"width","100%"),t),button:{padding:e.spacing(2),textAlign:"center",width:"100%",justify:"center",alignItems:"center",margin:"10px"}}}));function T(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(O.a)(a,2),i=s[0],u=s[1],j=Object(o.f)(),d=Object(c.useRef)(n),b=function(e){d.current=e,r(e)},h=function(){return d.current};Object(c.useEffect)((function(){console.log("useEffect: username is",n)}));var m=S(),g=function(e){e&&e.preventDefault();var t=h();return fetch("/api/v1/user/"+t+"/info").then((function(e){if(e.ok){e.json();console.log("Redirect to",t),j.push("/user/"+t)}else console.log("Did not found",t),u(!1)})).catch(console.log)},v=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N().then((function(e){b(e),console.log("username after calling setUsername(".concat(e,") is"),h()),setTimeout((function(){g()}),1e3)})).catch((function(e){console.log("Failed to get random user:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(I.jsx)("form",{onSubmit:g,noValidate:!0,children:Object(I.jsxs)(l.a,{container:!0,justify:"center",alignItems:"center",className:m.root,children:[Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(y.a,{error:!i,id:"standard-basic",label:"Leetcode username",value:n,style:{width:"100%"},onChange:function(e){u(!0),b(e.target.value),console.log("TextField onCHange: username",h())}})}),Object(I.jsx)(l.a,{item:!0,xs:6,children:Object(I.jsx)(k.a,{className:m.button,startIcon:Object(I.jsx)(p.a,{}),onClick:g,children:"Search"})}),Object(I.jsx)(l.a,{item:!0,xs:6,children:Object(I.jsx)(k.a,{className:m.button,startIcon:Object(I.jsx)(w.a,{}),onClick:v,children:"Feeling lucky"})})]})})}var C=n(211),F=n(212);function L(){return Object(I.jsx)(C.a,{position:"fixed",color:"",children:Object(I.jsx)(F.a,{children:Object(I.jsx)(i.b,{to:"/",style:{textDecoration:"none"},children:Object(I.jsx)(j.a,{component:"h1",variant:"h6",children:"Leetcode Tracker"})})})})}var D=Object(d.a)((function(e){return{root:{display:"flex"}}}));function E(){var e=D();return Object(I.jsxs)("div",{className:e.root,children:[Object(I.jsx)(b.a,{}),Object(I.jsx)(L,{}),Object(I.jsx)(u.a,{maxWidth:"md",children:Object(I.jsxs)(l.a,{container:!0,spacing:2,direction:"column",justify:"center",style:{minHeight:"100vh",margin:"auto"},children:[Object(I.jsx)(l.a,{item:!0,children:Object(I.jsx)(j.a,{component:"h1",variant:"h2",align:"center",children:"Leetcode Tracker"})}),Object(I.jsx)(l.a,{item:!0,children:Object(I.jsx)(T,{})})]})})]})}var H=n(216),M=n(170),U=n(171),B=n(215),J=n(169),P=n(96),R=n(123),W=n.n(R),z=n(122),A=n.n(z),V=n(121),q=n.n(V),G=n(124),K=n.n(G),Q=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,padding:e.spacing(1)}}}));function X(e,t){if(e)return Object(I.jsxs)(M.a,{children:[Object(I.jsx)(U.a,{children:t}),Object(I.jsx)(B.a,{primary:e})]})}function Y(e){var t=e.username,n=e.profile,c=Q();return console.log("user profile:",n),n?Object(I.jsxs)(P.a,{children:[Object(I.jsx)(j.a,{className:c.root,variant:"h4",children:t}),Object(I.jsxs)(J.a,{children:[X(n.aboutMe,Object(I.jsx)(q.a,{})),X(n.countryName,Object(I.jsx)(A.a,{})),X(n.school,Object(I.jsx)(W.a,{})),X(n.ranking,Object(I.jsx)(K.a,{}))]})]}):Object(I.jsx)(P.a,{children:Object(I.jsx)(j.a,{className:c.root,variant:"h4",children:t})})}var Z=n(125);function $(e){var t=e.subs;if(t){console.log("add ids:",t);for(var n=t.length||0,c=0;c<n;c++)t[c].id=t[c].timestamp;return Object(I.jsxs)(P.a,{children:[console.log(t),Object(I.jsx)(Z.a,{rows:t,columns:[{field:"title",headerName:"Title",width:500},{field:"lang",headerName:"Language",width:150},{field:"status",headerName:"Status",width:200},{field:"timestamp",headerName:"Time",width:200}],pageSize:10,autoHeight:!0})]})}return Object(I.jsx)(P.a,{children:"Loading"})}var _=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/user/"+t).then((function(e){return e.ok?e.json():null})).then((function(e){return console.log("getUserInfo:",e),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(d.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)}}}}));function te(){var e=Object(o.g)().username,t=Object(c.useState)({}),n=Object(O.a)(t,2),r=n[0],a=n[1];ee();return console.log("User profile page for",e),Object(c.useEffect)((function(){_(e).then((function(e){return a(e)})).catch(console.log)}),[]),Object(I.jsxs)(u.a,{maxWidth:"lg",children:[Object(I.jsx)(b.a,{}),Object(I.jsx)(L,{}),Object(I.jsx)(H.a,{my:15,children:Object(I.jsxs)(l.a,{container:!0,spacing:2,direction:"column",style:{minHeight:"",paddingTop:"20"},children:[Object(I.jsx)(l.a,{item:!0,children:Object(I.jsx)(Y,{username:e,profile:r.profile})}),Object(I.jsx)(l.a,{item:!0,children:Object(I.jsx)($,{subs:r.submissions})})]})})]})}var ne=function(){return Object(I.jsx)(i.a,{children:Object(I.jsxs)(o.c,{children:[Object(I.jsx)(o.a,{path:"/user/:username",children:Object(I.jsx)(te,{})}),Object(I.jsx)(o.a,{path:"/",children:Object(I.jsx)(E,{})})]})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[164,1,2]]]);
//# sourceMappingURL=main.b9aff37a.chunk.js.map